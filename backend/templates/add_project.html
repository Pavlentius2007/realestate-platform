<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% if edit_mode %}–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤–æ—Å—Ç—Ä–æ–π–∫—É{% else %}–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ—Å—Ç—Ä–æ–π–∫—É{% endif %} - –ê–¥–º–∏–Ω–∫–∞</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .form-section {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        .form-section h3 {
            color: #2d3748;
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .required::after {
            content: " *";
            color: #e53e3e;
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen">
    
    <!-- –®–∞–ø–∫–∞ -->
    <div class="bg-white shadow-sm border-b">
        <div class="max-w-6xl mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <h1 class="text-2xl font-bold text-gray-800">{% if edit_mode %}‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤–æ—Å—Ç—Ä–æ–π–∫—É{% else %}üèóÔ∏è –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ—Å—Ç—Ä–æ–π–∫—É{% endif %}</h1>
                <a href="/admin" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 transition">
                    ‚Üê –ù–∞–∑–∞–¥ –≤ –∞–¥–º–∏–Ω–∫—É
                </a>
            </div>
        </div>
    </div>

    <form method="post" action="{% if edit_mode %}/admin/projects/edit/{{ project.id }}{% else %}/admin/add-project{% endif %}" enctype="multipart/form-data" class="max-w-6xl mx-auto px-6 py-8">
        
        <!-- –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
        <div class="form-section">
            <h3>üìù –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="md:col-span-2">
                    <label class="block text-sm font-medium text-gray-700 mb-2 required">–ù–∞–∑–≤–∞–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç—Ä–æ–π–∫–∏</label>
                    <input type="text" name="title" id="title" 
                           placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: PTY Residence Sai 1" 
                           value="{{ project.title if project else '' }}"
                           class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500" 
                           required>
                    <p class="text-sm text-gray-500 mt-1">–ü–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –∫–∞–∫ –æ–Ω–æ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –Ω–∞ —Å–∞–π—Ç–µ</p>
                </div>
                
                <div class="md:col-span-2">
                    <label class="block text-sm font-medium text-gray-700 mb-2 required">URL —Å–ª–∞–≥</label>
                    <input type="text" name="slug" id="slug" 
                           placeholder="pty-residence-sai-1" 
                           value="{{ project.slug if project else '' }}"
                           class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500" 
                           required>
                    <p class="text-sm text-gray-500 mt-1">
                        –ê–¥—Ä–µ—Å —Å—Ç—Ä–∞–Ω–∏—Ü—ã: <span class="font-mono bg-gray-100 px-2 py-1 rounded">localhost:8001/ru/projects/<span id="slug-preview">–≤–∞—à-—Å–ª–∞–≥</span></span>
                        <button type="button" onclick="generateSlug()" class="ml-2 text-blue-600 hover:text-blue-800 underline text-sm">
                            üîÑ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
                        </button>
                    </p>
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">–ü–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫</label>
                    <input type="text" name="subtitle" 
                           placeholder="–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞" 
                           class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">–ó–∞—Å—Ç—Ä–æ–π—â–∏–∫</label>
                    <input type="text" name="developer" 
                           placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: PTY Development" 
                           value="{{ project.developer if project else '' }}"
                           class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                </div>
            </div>
        </div>

        <!-- –ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ -->
        <div class="form-section">
            <h3>üìç –ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">–†–∞–π–æ–Ω</label>
                    <select name="district" class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–π–æ–Ω</option>
                        <option value="–í–æ–Ω–≥–∞–º–∞—Ç">–í–æ–Ω–≥–∞–º–∞—Ç</option>
                        <option value="–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –ü–∞—Ç—Ç–∞–π—è">–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –ü–∞—Ç—Ç–∞–π—è</option>
                        <option value="–í–æ—Å—Ç–æ—á–Ω–∞—è –ü–∞—Ç—Ç–∞–π—è">–í–æ—Å—Ç–æ—á–Ω–∞—è –ü–∞—Ç—Ç–∞–π—è</option>
                        <option value="–ù–∞–∫–ª—É–∞">–ù–∞–∫–ª—É–∞</option>
                        <option value="–ü—Ä–∞—Ç–∞–º–Ω–∞–∫">–ü—Ä–∞—Ç–∞–º–Ω–∞–∫</option>
                        <option value="–î–∂–æ–º—Ç—å–µ–Ω">–î–∂–æ–º—Ç—å–µ–Ω</option>
                        <option value="–ù–∞ –î–∂–æ–º—Ç—å–µ–Ω">–ù–∞ –î–∂–æ–º—Ç—å–µ–Ω</option>
                        <option value="–Æ–≥">–Æ–≥</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">–ü–æ–ª–Ω—ã–π –∞–¥—Ä–µ—Å</label>
                    <input type="text" name="location" 
                           placeholder="–£–ª–∏—Ü–∞, –¥–æ–º, —Ä–∞–π–æ–Ω, –≥–æ—Ä–æ–¥" 
                           class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">–®–∏—Ä–æ—Ç–∞ (lat)</label>
                    <input type="text" name="lat" 
                           placeholder="12.92345" 
                           class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">–î–æ–ª–≥–æ—Ç–∞ (lng)</label>
                    <input type="text" name="lng" 
                           placeholder="100.87654" 
                           class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                </div>
            </div>
        </div>

        <!-- –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ -->
        <div class="form-section">
            <h3>üè¢ –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –Ω–æ–≤–æ—Å—Ç—Ä–æ–π–∫–∏</h3>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">–ì–æ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è</label>
                    <input type="number" name="completion_year" 
                           placeholder="2025" min="2024" max="2030"
                           class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –µ–¥–∏–Ω–∏—Ü</label>
                    <input type="number" name="total_units" 
                           placeholder="200" min="1"
                           class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">–≠—Ç–∞–∂–µ–π</label>
                    <input type="number" name="floors" 
                           placeholder="25" min="1"
                           class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">–°—Ç–∞—Ç—É—Å</label>
                    <select name="status" class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                        <option value="active">–í –ø—Ä–æ–¥–∞–∂–µ</option>
                        <option value="upcoming">–°–∫–æ—Ä–æ –≤ –ø—Ä–æ–¥–∞–∂–µ</option>
                        <option value="completed">–ó–∞–≤–µ—Ä—à–µ–Ω</option>
                    </select>
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">–¶–µ–Ω–∞ –æ—Ç (THB)</label>
                    <input type="number" name="price_from" 
                           placeholder="2500000" step="50000"
                           class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">–¶–µ–Ω–∞ –¥–æ (THB)</label>
                    <input type="number" name="price_to" 
                           placeholder="8500000" step="50000"
                           class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                </div>
            </div>
        </div>

        <!-- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è -->
        <div class="form-section">
            <h3>üì∏ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">–ì–ª–∞–≤–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</label>
                    <input type="file" name="hero_image" accept="image/*" 
                           class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                    <p class="text-sm text-gray-500 mt-1">–û—Å–Ω–æ–≤–Ω–æ–µ —Ñ–æ—Ç–æ –Ω–æ–≤–æ—Å—Ç—Ä–æ–π–∫–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 1200x800px)</p>
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">–ì–∞–ª–µ—Ä–µ—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π</label>
                    <input type="file" name="gallery_images" multiple accept="image/*" 
                           class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                    <p class="text-sm text-gray-500 mt-1">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–æ—Ç–æ (–º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ)</p>
                </div>
            </div>

            <div class="mt-4">
                <label class="block text-sm font-medium text-gray-700 mb-2">–°—Å—ã–ª–∫–∞ –Ω–∞ –≤–∏–¥–µ–æ</label>
                <input type="url" name="video_url" 
                       placeholder="https://www.youtube.com/watch?v=..." 
                       class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                <p class="text-sm text-gray-500 mt-1">YouTube, Vimeo –∏–ª–∏ –¥—Ä—É–≥–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ –≤–∏–¥–µ–æ-–æ–±–∑–æ—Ä</p>
            </div>
        </div>

        <!-- –û–ø–∏—Å–∞–Ω–∏–µ –∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ -->
        <div class="form-section">
            <h3>üìã –û–ø–∏—Å–∞–Ω–∏–µ –∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏</h3>
            
            <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-2">–û–ø–∏—Å–∞–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç—Ä–æ–π–∫–∏</label>
                <textarea name="description" rows="4" 
                          placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞, –µ–≥–æ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ –∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π..." 
                          class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">{{ project.description if project else '' }}</textarea>
            </div>

            <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-2">–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</label>
                <input type="text" name="highlights" 
                       placeholder="–í–∏–¥ –Ω–∞ –º–æ—Ä–µ, –†—è–¥–æ–º —Å –ø–ª—è–∂–µ–º, –ë–∞—Å—Å–µ–π–Ω –Ω–∞ –∫—Ä—ã—à–µ, –§–∏—Ç–Ω–µ—Å-—Ü–µ–Ω—Ç—Ä" 
                       class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                <p class="text-sm text-gray-500 mt-1">–ü–µ—Ä–µ—á–∏—Å–ª–∏—Ç–µ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é –∫–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</p>
            </div>

            <div>
                <label class="block text-sm font-medium text-gray-700 mb-3">–£–¥–æ–±—Å—Ç–≤–∞ –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞</label>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
                    <label class="flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer">
                        <input type="checkbox" name="amenities" value="–ë–∞—Å—Å–µ–π–Ω" class="mr-3 h-4 w-4 text-blue-600 rounded">
                        <span class="text-sm">üèä –ë–∞—Å—Å–µ–π–Ω</span>
                    </label>
                    <label class="flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer">
                        <input type="checkbox" name="amenities" value="–°–ø–æ—Ä—Ç–∑–∞–ª" class="mr-3 h-4 w-4 text-blue-600 rounded">
                        <span class="text-sm">üí™ –°–ø–æ—Ä—Ç–∑–∞–ª</span>
                    </label>
                    <label class="flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer">
                        <input type="checkbox" name="amenities" value="–°–∞—É–Ω–∞" class="mr-3 h-4 w-4 text-blue-600 rounded">
                        <span class="text-sm">üßñ –°–∞—É–Ω–∞</span>
                    </label>
                    <label class="flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer">
                        <input type="checkbox" name="amenities" value="–ü–∞—Ä–∫–æ–≤–∫–∞" class="mr-3 h-4 w-4 text-blue-600 rounded">
                        <span class="text-sm">üöó –ü–∞—Ä–∫–æ–≤–∫–∞</span>
                    </label>
                    <label class="flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer">
                        <input type="checkbox" name="amenities" value="–û—Ö—Ä–∞–Ω–∞ 24/7" class="mr-3 h-4 w-4 text-blue-600 rounded">
                        <span class="text-sm">üõ°Ô∏è –û—Ö—Ä–∞–Ω–∞ 24/7</span>
                    </label>
                    <label class="flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer">
                        <input type="checkbox" name="amenities" value="–î–µ—Ç—Å–∫–∞—è –ø–ª–æ—â–∞–¥–∫–∞" class="mr-3 h-4 w-4 text-blue-600 rounded">
                        <span class="text-sm">üé† –î–µ—Ç—Å–∫–∞—è –ø–ª–æ—â–∞–¥–∫–∞</span>
                    </label>
                    <label class="flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer">
                        <input type="checkbox" name="amenities" value="–†–µ—Å–µ–ø—à–Ω" class="mr-3 h-4 w-4 text-blue-600 rounded">
                        <span class="text-sm">üè® –†–µ—Å–µ–ø—à–Ω</span>
                    </label>
                    <label class="flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer">
                        <input type="checkbox" name="amenities" value="–õ–∏—Ñ—Ç" class="mr-3 h-4 w-4 text-blue-600 rounded">
                        <span class="text-sm">üõó –õ–∏—Ñ—Ç</span>
                    </label>
                </div>
            </div>
        </div>

        <!-- –ö–æ–º–º–µ—Ä—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
        <div class="form-section">
            <h3>üí∞ –ö–æ–º–º–µ—Ä—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">–ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–π –≤–∑–Ω–æ—Å</label>
                    <input type="text" name="down_payment" 
                           placeholder="30% –∏–ª–∏ –æ—Ç 750,000 THB" 
                           class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">–ï–∂–µ–º–µ—Å—è—á–Ω—ã–π –ø–ª–∞—Ç–µ–∂</label>
                    <input type="text" name="monthly_payment" 
                           placeholder="–æ—Ç 50,000 THB –≤ –º–µ—Å—è—Ü" 
                           class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                </div>
            </div>

            <div class="mt-4">
                <label class="block text-sm font-medium text-gray-700 mb-2">–ü–ª–∞–Ω –ø–ª–∞—Ç–µ–∂–µ–π</label>
                <textarea name="payment_plan" rows="3" 
                          placeholder="–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—Ö–µ–º–µ –æ–ø–ª–∞—Ç—ã..." 
                          class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"></textarea>
            </div>

            <div class="mt-4">
                <label class="block text-sm font-medium text-gray-700 mb-2">ROI –∏ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å</label>
                <textarea name="roi_info" rows="3" 
                          placeholder="–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–µ–Ω—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π, –∞—Ä–µ–Ω–¥–µ..." 
                          class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"></textarea>
            </div>
        </div>

        <!-- –ö–æ–Ω—Ç–∞–∫—Ç—ã -->
        <div class="form-section">
            <h3>üìû –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">–¢–µ–ª–µ—Ñ–æ–Ω –æ—Ñ–∏—Å–∞ –ø—Ä–æ–¥–∞–∂</label>
                    <input type="text" name="sales_office_phone" 
                           placeholder="+66 XX XXX XXXX" 
                           class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Email –æ—Ñ–∏—Å–∞ –ø—Ä–æ–¥–∞–∂</label>
                    <input type="email" name="sales_office_email" 
                           placeholder="sales@project.com" 
                           class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                </div>

                <div class="md:col-span-2">
                    <label class="block text-sm font-medium text-gray-700 mb-2">–ê–¥—Ä–µ—Å –æ—Ñ–∏—Å–∞ –ø—Ä–æ–¥–∞–∂</label>
                    <input type="text" name="sales_office_address" 
                           placeholder="–ü–æ–ª–Ω—ã–π –∞–¥—Ä–µ—Å –æ—Ñ–∏—Å–∞ –ø—Ä–æ–¥–∞–∂" 
                           class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                </div>
            </div>
        </div>

        <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ -->
        <div class="form-section">
            <h3>‚öôÔ∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
            
            <div class="mb-4">
                <label class="flex items-center p-4 bg-blue-50 border border-blue-200 rounded-lg">
                    <input type="checkbox" name="is_featured" value="true" class="mr-3 h-5 w-5 text-blue-600 rounded">
                    <div>
                        <span class="text-lg font-medium text-blue-800">‚≠ê –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –Ω–æ–≤–æ—Å—Ç—Ä–æ–π–∫–∞</span>
                        <p class="text-sm text-blue-600 mt-1">–ù–æ–≤–æ—Å—Ç—Ä–æ–π–∫–∞ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ —Ä–∞–∑–¥–µ–ª–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã—Ö –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ</p>
                    </div>
                </label>
            </div>

            <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-2">–¢–∏–ø—ã –∫–≤–∞—Ä—Ç–∏—Ä –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∏</label>
                <textarea name="unit_types" rows="3" 
                          placeholder="–°—Ç—É–¥–∏–∏ –æ—Ç 25 –º¬≤, 1-–∫–æ–º–Ω–∞—Ç–Ω—ã–µ –æ—Ç 35 –º¬≤, 2-–∫–æ–º–Ω–∞—Ç–Ω—ã–µ –æ—Ç 55 –º¬≤..." 
                          class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"></textarea>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">SEO –∑–∞–≥–æ–ª–æ–≤–æ–∫</label>
                    <input type="text" name="meta_title" 
                           placeholder="SEO –∑–∞–≥–æ–ª–æ–≤–æ–∫ –¥–ª—è –ø–æ–∏—Å–∫–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º" 
                           class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">SEO –æ–ø–∏—Å–∞–Ω–∏–µ</label>
                    <textarea name="meta_description" rows="3" 
                              placeholder="–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –ø–æ–∏—Å–∫–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º" 
                              class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"></textarea>
                </div>
            </div>
        </div>

        <!-- –°–æ–æ–±—â–µ–Ω–∏—è -->
        {% if error %}
            <div class="bg-red-50 border border-red-200 rounded-lg p-4 mb-6">
                <div class="flex items-center">
                    <span class="text-red-500 text-xl mr-3">‚ö†Ô∏è</span>
                    <div class="text-red-800">{{ error }}</div>
                </div>
            </div>
        {% endif %}

        {% if success %}
            <div class="bg-green-50 border border-green-200 rounded-lg p-4 mb-6">
                <div class="flex items-center">
                    <span class="text-green-500 text-xl mr-3">‚úÖ</span>
                    <div class="text-green-800">–ù–æ–≤–æ—Å—Ç—Ä–æ–π–∫–∞ —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∞!</div>
                </div>
            </div>
        {% endif %}

        <!-- –ö–Ω–æ–ø–∫–∏ -->
        <div class="bg-white border border-gray-200 rounded-lg p-6 text-center">
            <button type="submit" class="bg-blue-600 text-white px-8 py-4 rounded-lg hover:bg-blue-700 transition-colors font-semibold text-lg mr-4">
                üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–æ–≤–æ—Å—Ç—Ä–æ–π–∫—É
            </button>
            <a href="/admin" class="bg-gray-500 text-white px-8 py-4 rounded-lg hover:bg-gray-600 transition-colors font-semibold text-lg">
                ‚ùå –û—Ç–º–µ–Ω–∞
            </a>
        </div>
    </form>

    <script>
        // –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è slug –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏—è
        function generateSlug() {
            const title = document.getElementById('title').value;
            const slug = title
                .toLowerCase()
                .replace(/[–∞-—è—ë]/g, function(match) {
                    const ru = '–∞ –± –≤ –≥ –¥ –µ —ë –∂ –∑ –∏ –π –∫ –ª –º –Ω –æ –ø —Ä —Å —Ç —É —Ñ —Ö —Ü —á —à —â —ä —ã —å —ç —é —è'.split(' ');
                    const en = 'a b v g d e e zh z i y k l m n o p r s t u f h ts ch sh sch  y  e yu ya'.split(' ');
                    return en[ru.indexOf(match)] || match;
                })
                .replace(/[^a-z0-9\s-]/g, '')
                .replace(/\s+/g, '-')
                .replace(/-+/g, '-')
                .trim('-');
            
            document.getElementById('slug').value = slug;
            updateSlugPreview();
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–≤—å—é slug
        function updateSlugPreview() {
            const slug = document.getElementById('slug').value || '–≤–∞—à-—Å–ª–∞–≥';
            document.getElementById('slug-preview').textContent = slug;
        }

        // –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–≤—å—é –ø—Ä–∏ –≤–≤–æ–¥–µ
        document.getElementById('slug').addEventListener('input', updateSlugPreview);
        document.getElementById('title').addEventListener('input', function() {
            if (!document.getElementById('slug').value) {
                generateSlug();
            }
        });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        updateSlugPreview();
    </script>

    {% if edit_mode %}
    <script>
      const proj = {{ project_json|safe }};
      document.addEventListener('DOMContentLoaded', () => {
        for (const [key, val] of Object.entries(proj)) {
          const el = document.querySelector(`[name="${key}"]`);
          if(!el || val===null) continue;
          if(el.type==='checkbox') {
            if(Array.isArray(proj.amenities)){
              proj.amenities.forEach(am=>{const cb=document.querySelector(`input[name='amenities'][value='${am}']`);if(cb) cb.checked=true;});
            }
          } else if(el.tagName==='SELECT') {
            el.value = val;
          } else {
            el.value = val;
          }
        }
      });
    </script>
    {% endif %}
</body>
</html> 