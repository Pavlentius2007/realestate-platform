<!-- projects.html template loaded -->
<!-- base.html template loaded -->
<!DOCTYPE html>
<html lang="{{ lang }}">
<head>
  <meta charset="UTF-8" />
  <title>{{ _(page_title) if page_title else _("meta.default_title") }} | Sianoro</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <!-- –ú–µ—Ç–∞-—Ç–µ–≥–∏ –¥–ª—è SEO -->
  <meta name="description" content="{{ _(page_description) if page_description else _('meta.default_description') }}">
  <meta name="keywords" content="{% block meta_keywords %}{{ _('meta.keywords') }}{% endblock %}">
  
  <!-- –ú–µ—Ç–∞-—Ç–µ–≥–∏ –¥–ª—è —è–∑—ã–∫–æ–≤ -->
  {% for code, info in supported_languages.items() %}
  <link rel="alternate" hreflang="{{ code }}" href="{{ request.url.scheme }}://{{ request.url.netloc }}/{{ code }}{{ request.url.path.replace('/' + lang + '/', '/') }}">
  {% endfor %}
  
  <!-- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —à—Ä–∏—Ñ—Ç—ã Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  
  <!-- Tailwind -->
  <link rel="stylesheet" href="https://cdn.tailwindcss.com">
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>

  <!-- –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Å—Ç–∏–ª–∏ -->
  <style>
    /* –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —à—Ä–∏—Ñ—Ç—ã */
    .font-modern { font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif; }
    .font-heading { font-family: 'Poppins', -apple-system, BlinkMacSystemFont, sans-serif; }
    
    /* –£–ª—É—á—à–µ–Ω–Ω–∞—è —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞ */
    body { 
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif; 
      line-height: 1.6;
      color: #1f2937; /* –ë–æ–ª–µ–µ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω—ã–π —Å–µ—Ä—ã–π */
    }
    
    h1, h2, h3, h4, h5, h6 { 
      font-family: 'Poppins', sans-serif; 
      font-weight: 600;
      color: #111827; /* –ï—â–µ –±–æ–ª–µ–µ —Ç–µ–º–Ω—ã–π –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ */
    }
    
    /* –ö–∞—Ä—Ç–∞ */
    #map, #map-inline { height: 100%; min-height: 100%; }
    
    /* –£–ª—É—á—à–µ–Ω–Ω–∞—è —Ü–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ */
    .bg-primary { background-color: #2563eb; } /* –ë–æ–ª–µ–µ —è—Ä–∫–∏–π —Å–∏–Ω–∏–π */
    .text-primary { color: #2563eb; }
    .bg-primary-light { background-color: #dbeafe; }
    .text-secondary { color: #6b7280; }
    .border-primary { border-color: #2563eb; }
    
    /* –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ –∏–∫–æ–Ω–∫–∏ */
    .social-sidebar {
      position: fixed;
      right: 20px;
      bottom: 120px;
      z-index: 40;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    
    .social-icon {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }
    
    .social-icon:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
    }
    
    /* –í—ã–ø–∞–¥–∞—é—â–µ–µ –º–µ–Ω—é */
    .dropdown-menu {
      transform: translateY(-10px);
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }
    
    .dropdown-menu.show {
      transform: translateY(0);
      opacity: 1;
      visibility: visible;
    }
    
    /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
    .fade-in {
      animation: fadeIn 0.3s ease-in-out;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    /* –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö –∏–∫–æ–Ω–æ–∫ */
    @media (max-width: 768px) {
      .social-sidebar {
        position: relative;
        right: auto;
        bottom: auto;
        flex-direction: row;
        justify-content: center;
        margin: 20px 0;
      }
    }
  </style>

  <!-- –°—Ç–∏–ª–∏ -->
  <link rel="stylesheet" href="{{ url_for('static', path='css/style.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', path='css/bootstrap.min.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', path='css/font-awesome.min.css') }}">
  {% block extra_css %}{% endblock %}

  {% block head %}{% endblock %}

  <!-- –°–∫—Ä–∏–ø—Ç –¥–ª—è AJAX-–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —è–∑—ã–∫–∞ -->
  <script>
    // –ì–ª–æ–±–∞–ª—å–Ω—ã–π –∫—ç—à –ø–µ—Ä–µ–≤–æ–¥–æ–≤
    const translationsCache = new Map();
    
    // –ó–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –¥–ª—è —è–∑—ã–∫–∞
    async function loadTranslations(lang) {
      if (translationsCache.has(lang)) {
        return translationsCache.get(lang);
      }
      
      try {
        // –ò—Å–ø–æ–ª—å–∑—É–µ–º –∞–±—Å–æ–ª—é—Ç–Ω—ã–π URL –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
        const response = await fetch(`${window.location.origin}/static/locales/${lang}.json`);
        const translations = await response.json();
        translationsCache.set(lang, translations);
        return translations;
      } catch (error) {
        console.error(`Error loading translations for ${lang}:`, error);
        return null;
      }
    }
    
    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    async function updatePageContent(newLang) {
      try {
        // –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–∏–π –ø—É—Ç—å
        const currentPath = window.location.pathname;
        const pathParts = currentPath.split('/');
        
        // –ó–∞–º–µ–Ω—è–µ–º –∏–ª–∏ –¥–æ–±–∞–≤–ª—è–µ–º –∫–æ–¥ —è–∑—ã–∫–∞
        if (pathParts[1] && ['ru', 'en', 'th', 'zh'].includes(pathParts[1])) {
          pathParts[1] = newLang;
        } else {
          pathParts.splice(1, 0, newLang);
        }
        
        // –§–æ—Ä–º–∏—Ä—É–µ–º –Ω–æ–≤—ã–π URL
        const newPath = pathParts.join('/');
        const search = window.location.search;
        const newUrl = newPath + search;
        
        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º AJAX –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–º–µ–Ω—É —è–∑—ã–∫–∞
        const response = await fetch(`/lang/${newLang}`, {
          headers: {
            'X-Requested-With': 'XMLHttpRequest'
          }
        });
        
        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º –Ω–æ–≤—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç
        const pageResponse = await fetch(newUrl);
        if (!pageResponse.ok) {
          throw new Error(`HTTP error! status: ${pageResponse.status}`);
        }
        
        const html = await pageResponse.text();
        
        // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç
        const parser = new DOMParser();
        const doc = parser.parseFromString(html, 'text/html');
        const newContent = doc.querySelector('main').innerHTML;
        document.querySelector('main').innerHTML = newContent;
        
        // –û–±–Ω–æ–≤–ª—è–µ–º URL –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏
        window.history.pushState({}, '', newUrl);
        
        // –û–±–Ω–æ–≤–ª—è–µ–º —è–∑—ã–∫ –≤ HTML
        document.documentElement.lang = newLang;
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–µ—Ä–µ–≤–æ–¥—ã –¥–ª—è –Ω–æ–≤–æ–≥–æ —è–∑—ã–∫–∞
        await loadTranslations(newLang);
        
      } catch (error) {
        console.error('Error updating content:', error);
        // –ü—Ä–∏ –æ—à–∏–±–∫–µ –¥–µ–ª–∞–µ–º –ø–æ–ª–Ω—É—é –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É
        window.location.href = `/lang/${newLang}`;
      }
    }
    
    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–º–µ–Ω—ã —è–∑—ã–∫–∞
    document.addEventListener('DOMContentLoaded', function() {
      // –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è —è–∑—ã–∫–∞
      const langSwitcher = document.getElementById('language-switcher');
      if (langSwitcher) {
        langSwitcher.addEventListener('change', function(e) {
          const newLang = e.target.value;
          updatePageContent(newLang);
        });
      }
      
      // –û–±—Ä–∞–±–æ—Ç–∫–∞ —è–∑—ã–∫–æ–≤—ã—Ö —Å—Å—ã–ª–æ–∫
      document.querySelectorAll('[data-lang]').forEach(link => {
        link.addEventListener('click', function(e) {
          e.preventDefault();
          const newLang = this.dataset.lang;
          updatePageContent(newLang);
        });
      });
      
      // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–µ—Ä–µ–≤–æ–¥—ã –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —è–∑—ã–∫–∞
      const currentLang = document.documentElement.lang;
      loadTranslations(currentLang);
      
      // –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∂–∞–µ–º –ø–µ—Ä–µ–≤–æ–¥—ã –¥–ª—è –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–æ–≤
      ['en', 'ru', 'th', 'zh'].forEach(lang => {
        if (lang !== currentLang) {
          loadTranslations(lang);
        }
      });
    });
  </script>
</head>

<body class="bg-gray-50 text-gray-900 font-modern">
  <!-- üîù –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —à–∞–ø–∫–∞ –≤ —Å—Ç–∏–ª–µ —Ñ—É—Ç–µ—Ä–∞ -->
  <header class="sticky top-0 z-50 shadow-xl">
    <!-- –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Ö–Ω—è—è –ø–æ–ª–æ—Å–∞ -->
    <div class="h-1 bg-gradient-to-r from-blue-400 via-purple-400 to-blue-500"></div>
    
    <!-- –û—Å–Ω–æ–≤–Ω–æ–π —Ö–µ–¥–µ—Ä -->
    <div class="bg-gradient-to-br from-slate-100 via-blue-50 to-slate-200 backdrop-blur-lg border-b border-blue-200/30">
          <div class="max-w-7xl mx-auto flex items-center justify-between px-4 py-3">
        
        <!-- –õ–µ–≤–∞—è —á–∞—Å—Ç—å: –°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –º–µ–Ω—é -->
        <div class="flex items-center gap-6">
          <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
          <nav class="hidden lg:flex items-center gap-6">
            <div class="relative group">
              <button class="flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-blue-200/50 transition-colors text-slate-700 font-medium">
                <span class="font-medium">üè† {{ _("navigation.real_estate") }}</span>
              <svg class="h-4 w-4 transition-transform group-hover:rotate-180" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"/>
              </svg>
            </button>
            
            <div class="dropdown-menu absolute left-0 mt-2 w-72 bg-white text-gray-800 rounded-xl shadow-xl py-2 z-50 group-hover:opacity-100 group-hover:visible group-hover:translate-y-0">
              <a href="/{{ lang }}/properties?deal_type=buy" class="block px-4 py-3 hover:bg-blue-50 transition-colors border-b border-gray-100">
                <div class="flex items-center gap-3">
                  <span class="text-2xl">üè†</span>
                  <div>
                    <div class="font-medium text-gray-900">{{ _("navigation.buy_property") }}</div>
                    <div class="text-sm text-gray-500">{{ _("header.buy_property_desc") }}</div>
                  </div>
                </div>
              </a>
              
              <a href="/{{ lang }}/properties/rent" class="block px-4 py-3 hover:bg-blue-50 transition-colors border-b border-gray-100">
                <div class="flex items-center gap-3">
                  <span class="text-2xl">üèñÔ∏è</span>
                  <div>
                    <div class="font-medium text-gray-900">{{ _("navigation.rent_property") }}</div>
                    <div class="text-sm text-gray-500">{{ _("header.rent_property_desc") }}</div>
                  </div>
                </div>
              </a>
              
              <a href="/{{ lang }}/projects" class="block px-4 py-3 hover:bg-blue-50 transition-colors border-b border-gray-100">
                <div class="flex items-center gap-3">
                  <span class="text-2xl">üèóÔ∏è</span>
                  <div>
                    <div class="font-medium text-gray-900">{{ _("navigation.new_builds") }}</div>
                    <div class="text-sm text-gray-500">{{ _("header.new_builds_desc") }}</div>
                  </div>
                </div>
              </a>
              
              <a href="/{{ lang }}/ai-chat" class="block px-4 py-3 hover:bg-gradient-to-r hover:from-purple-50 hover:to-blue-50 transition-colors">
                <div class="flex items-center gap-3">
                  <span class="text-2xl">ü§ñ</span>
                  <div>
                    <div class="font-medium text-purple-700">{{ _("navigation.ai_assistant") }}</div>
                    <div class="text-sm text-gray-500">–£–º–Ω—ã–π —á–∞—Ç-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç –ø–æ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏</div>
                  </div>
                </div>
              </a>
            </div>
          </div>
          
          <a href="/{{ lang }}/articles" class="px-3 py-2 rounded-lg hover:bg-blue-200/50 transition-colors font-medium text-slate-700">
            üìö {{ _("navigation.useful") }}
          </a>
        </nav>
        
        <!-- –ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é -->
        <div class="lg:hidden">
          <button id="mobileMenuButton" class="flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-blue-200/50 transition-colors text-slate-700">
            <svg class="h-5 w-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"/>
            </svg>
            <span class="font-medium">{{ _("navigation.menu") }}</span>
          </button>
        </div>
      </div>
      
      <!-- –¶–µ–Ω—Ç—Ä: –ª–æ–≥–æ—Ç–∏–ø -->
      <div class="flex items-center justify-center">
        <a href="/{{ lang }}" class="flex items-center gap-3 group">
          <!-- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ª–æ–≥–æ—Ç–∏–ø –≤ –≤–∏–¥–µ SVG -->
          <div class="w-10 h-10 relative">
            <svg width="40" height="40" viewBox="0 0 100 100" class="drop-shadow-lg">
              <!-- –ö—Ä—É–≥–ª—ã–π —Ñ–æ–Ω -->
              <circle cx="50" cy="50" r="50" fill="#1e3a8a" stroke="#fbbf24" stroke-width="2"/>
              
              <!-- –°–æ–ª–Ω–µ—á–Ω—ã–µ –ª—É—á–∏ -->
              <g stroke="#fbbf24" stroke-width="3" stroke-linecap="round">
                <line x1="50" y1="15" x2="50" y2="25"/>
                <line x1="65" y1="20" x2="60" y2="25"/>
                <line x1="35" y1="20" x2="40" y2="25"/>
                <line x1="75" y1="35" x2="70" y2="40"/>
                <line x1="25" y1="35" x2="30" y2="40"/>
              </g>
              
              <!-- –î–æ–º -->
              <g fill="#fbbf24">
                <!-- –ö—Ä—ã—à–∞ -->
                <polygon points="35,45 50,30 65,45" />
                <!-- –°—Ç–µ–Ω—ã -->
                <rect x="35" y="45" width="30" height="20" />
                <!-- –î–≤–µ—Ä—å -->
                <rect x="47" y="55" width="6" height="10" fill="#1e3a8a" />
              </g>
              
              <!-- –í–æ–ª–Ω—ã –º–æ—Ä—è -->
              <g stroke="#fbbf24" stroke-width="2" fill="none">
                <path d="M 20 75 Q 30 70 40 75 T 60 75 T 80 75" />
                <path d="M 25 80 Q 35 75 45 80 T 65 80 T 85 80" />
                <path d="M 15 85 Q 25 80 35 85 T 55 85 T 75 85" />
              </g>
            </svg>
          </div>
          <span class="text-2xl font-bold font-heading tracking-wide bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent group-hover:from-purple-600 group-hover:to-blue-600 transition-all duration-300">SIANORO</span>
        </a>
      </div>
      
      <!-- –ü—Ä–∞–≤–∞—è —á–∞—Å—Ç—å: —è–∑—ã–∫–∏ –∏ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ -->
      <div class="flex items-center gap-4">
        <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —è–∑—ã–∫–æ–≤ -->
        <div class="relative group">
          <button class="flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-blue-200/50 transition-colors text-slate-700">
            <svg class="h-5 w-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 3C7.03 3 3 7.03 3 12s4.03 9 9 9 9-4.03 9-9-4.03-9-9-9zm0 0c2.21 0 4 4.03 4 9s-1.79 9-4 9-4-4.03-4-9 1.79-9 4-9z"/>
            </svg>
            <span class="uppercase font-medium">{{ lang }}</span>
            <svg class="h-4 w-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"/>
            </svg>
          </button>
          <div class="dropdown-menu absolute right-0 mt-2 w-32 bg-white text-gray-800 rounded-xl shadow-xl py-2 z-50 group-hover:opacity-100 group-hover:visible group-hover:translate-y-0">
            <a href="/lang/ru" onclick="setLanguage('ru')" class="block px-4 py-2 hover:bg-blue-50 transition-colors">üá∑üá∫ –†—É—Å—Å–∫–∏–π</a>
            <a href="/lang/en" onclick="setLanguage('en')" class="block px-4 py-2 hover:bg-blue-50 transition-colors">üá∫üá∏ English</a>
            <a href="/lang/th" onclick="setLanguage('th')" class="block px-4 py-2 hover:bg-blue-50 transition-colors">üáπüá≠ ‡πÑ‡∏ó‡∏¢</a>
            <a href="/lang/zh" onclick="setLanguage('zh')" class="block px-4 py-2 hover:bg-blue-50 transition-colors">üá®üá≥ ‰∏≠Êñá</a>
          </div>
        </div>
        
        <!-- –ö—Ä–∞—Å–∏–≤–∞—è –∫–Ω–æ–ø–∫–∞ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ -->
        <a href="/{{ lang }}/favorites" class="flex items-center gap-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-xl shadow-lg transition-all transform hover:scale-105" title="{{ _('navigation.favorites') }}">
          <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
          </svg>
          <span class="font-medium hidden md:inline">{{ _("navigation.favorites") }}</span>
        </a>
      </div>
    </div>
    
    <!-- –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω–∞—è –Ω–∏–∂–Ω—è—è –ø–æ–ª–æ—Å–∞ -->
    <div class="h-px bg-gradient-to-r from-transparent via-blue-300/50 to-transparent"></div>
  </header>

  <!-- –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è –ø–∞–Ω–µ–ª—å —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç–µ–π (—Å–ø—Ä–∞–≤–∞) -->
  <div class="social-sidebar md:block hidden">
    <a href="/auth/telegram" class="social-icon bg-blue-500 hover:bg-blue-600 text-white" title="Telegram">
      <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24">
        <path d="M9.04 16.34l-.39 3.67c.56 0 .8-.24 1.09-.53l2.62-2.49 5.44 3.98c1 .55 1.72.26 1.97-.92l3.58-16.76c.32-1.49-.54-2.07-1.5-1.72L2.2 9.47c-1.46.57-1.44 1.38-.25 1.75l4.6 1.44 10.67-6.72c.5-.32.96-.14.58.18"/>
      </svg>
    </a>
    
    <a href="/auth/whatsapp" class="social-icon bg-green-500 hover:bg-green-600 text-white" title="WhatsApp">
      <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24">
        <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.472-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.149-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.447-.52.149-.174.198-.298.298-.497.099-.198.05-.372-.025-.521-.075-.148-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.372-.01-.571-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.099 3.2 5.077 4.366.71.306 1.263.489 1.694.625.712.227 1.36.195 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.288.173-1.413-.074-.124-.272-.198-.57-.347z"/>
      </svg>
    </a>
    
    <a href="#" id="btn-instagram-modal" class="social-icon bg-gradient-to-r from-pink-500 via-red-500 to-yellow-500 hover:opacity-90 text-white" title="Instagram">
      <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24">
        <path d="M12 2.2c3.2 0 3.584.012 4.85.07 1.17.056 1.97.24 2.43.41.59.22 1.01.48 1.45.92.44.44.7.86.92 1.45.17.46.354 1.26.41 2.43.058 1.266.07 1.65.07 4.85s-.012 3.584-.07 4.85c-.056 1.17-.24 1.97-.41 2.43-.22.59-.48 1.01-.92 1.45-.44.44-.86.7-1.45.92-.46.17-1.26.354-2.43.41-1.266.058-1.65.07-4.85.07s-3.584-.012-4.85-.07c-1.17-.056-1.97-.24-2.43-.41-.59-.22-1.01-.48-1.45-.92-.44-.44-.7-.86-.92-1.45-.17-.46-.354-1.26-.41-2.43C2.212 15.784 2.2 15.4 2.2 12s.012-3.584.07-4.85c.056-1.17.24-1.97.41-2.43.22-.59.48-1.01.92-1.45.44-.44.86-.7 1.45-.92.46-.17 1.26-.354 2.43-.41C8.416 2.212 8.8 2.2 12 2.2zm0-2.2C8.736 0 8.332.012 7.052.07 5.77.128 4.77.312 4.01.54c-.77.23-1.42.54-2.07 1.19-.65.65-.96 1.3-1.19 2.07C.312 4.77.128 5.77.07 7.052.012 8.332 0 8.736 0 12c0 3.264.012 3.668.07 4.948.058 1.282.242 2.282.47 3.042.23.77.54 1.42 1.19 2.07.65.65 1.3.96 2.07 1.19.76.228 1.76.412 3.042.47C8.332 23.988 8.736 24 12 24s3.668-.012 4.948-.07c1.282-.058 2.282-.242 3.042-.47.77-.23 1.42-.54 2.07-1.19.65-.65.96-1.3 1.19-2.07.228-.76.412-1.76.47-3.042.058-1.28.07-1.684.07-4.948s-.012-3.668-.07-4.948c-.058-1.282-.242-2.282-.47-3.042-.23-.77-.54-1.42-1.19-2.07-.65-.65-1.3-.96-2.07-1.19-.76-.228-1.76-.412-3.042-.47C15.668.012 15.264 0 12 0z"/>
        <circle cx="12" cy="12" r="3.6"/>
        <circle cx="18.406" cy="5.594" r="1.44"/>
      </svg>
    </a>
  </div>

  <!-- –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç–µ–π -->
  <div class="social-sidebar md:hidden">
    <a href="/auth/telegram" class="social-icon bg-blue-500 hover:bg-blue-600 text-white" title="Telegram">
      <svg class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24">
        <path d="M9.04 16.34l-.39 3.67c.56 0 .8-.24 1.09-.53l2.62-2.49 5.44 3.98c1 .55 1.72.26 1.97-.92l3.58-16.76c.32-1.49-.54-2.07-1.5-1.72L2.2 9.47c-1.46.57-1.44 1.38-.25 1.75l4.6 1.44 10.67-6.72c.5-.32.96-.14.58.18"/>
      </svg>
    </a>
    
    <a href="/auth/whatsapp" class="social-icon bg-green-500 hover:bg-green-600 text-white" title="WhatsApp">
      <svg class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24">
        <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.472-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.149-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.447-.52.149-.174.198-.298.298-.497.099-.198.05-.372-.025-.521-.075-.148-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.372-.01-.571-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.099 3.2 5.077 4.366.71.306 1.263.489 1.694.625.712.227 1.36.195 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.288.173-1.413-.074-.124-.272-.198-.57-.347z"/>
      </svg>
    </a>
    
    <a href="#" class="social-icon bg-gradient-to-r from-pink-500 via-red-500 to-yellow-500 hover:opacity-90 text-white" title="Instagram">
      <svg class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24">
        <path d="M12 2.2c3.2 0 3.584.012 4.85.07 1.17.056 1.97.24 2.43.41.59.22 1.01.48 1.45.92.44.44.7.86.92 1.45.17.46.354 1.26.41 2.43.058 1.266.07 1.65.07 4.85s-.012 3.584-.07 4.85c-.056 1.17-.24 1.97-.41 2.43-.22.59-.48 1.01-.92 1.45-.44.44-.86.7-1.45.92-.46.17-1.26.354-2.43.41-1.266.058-1.65.07-4.85.07s-3.584-.012-4.85-.07c-1.17-.056-1.97-.24-2.43-.41-.59-.22-1.01-.48-1.45-.92-.44-.44-.7-.86-.92-1.45-.17-.46-.354-1.26-.41-2.43C2.212 15.784 2.2 15.4 2.2 12s.012-3.584.07-4.85c.056-1.17.24-1.97.41-2.43.22-.59.48-1.01.92-1.45.44-.44.86-.7 1.45-.92.46-.17 1.26-.354 2.43-.41C8.416 2.212 8.8 2.2 12 2.2zm0-2.2C8.736 0 8.332.012 7.052.07 5.77.128 4.77.312 4.01.54c-.77.23-1.42.54-2.07 1.19-.65.65-.96 1.3-1.19 2.07C.312 4.77.128 5.77.07 7.052.012 8.332 0 8.736 0 12c0 3.264.012 3.668.07 4.948.058 1.282.242 2.282.47 3.042.23.77.54 1.42 1.19 2.07.65.65 1.3.96 2.07 1.19.76.228 1.76.412 3.042.47C8.332 23.988 8.736 24 12 24s3.668-.012 4.948-.07c1.282-.058 2.282-.242 3.042-.47.77-.23 1.42-.54 2.07-1.19.65-.65.96-1.3 1.19-2.07.228-.76.412-1.76.47-3.042.058-1.28.07-1.684.07-4.948s-.012-3.668-.07-4.948c-.058-1.282-.242-2.282-.47-3.042-.23-.77-.54-1.42-1.19-2.07-.65-.65-1.3-.96-2.07-1.19-.76-.228-1.76-.412-3.042-.47C15.668.012 15.264 0 12 0z"/>
        <circle cx="12" cy="12" r="3.6"/>
        <circle cx="18.406" cy="5.594" r="1.44"/>
      </svg>
    </a>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ Telegram -->
  <div id="modal-telegram" class="fixed inset-0 z-[9999] flex items-center justify-center bg-black bg-opacity-50 hidden">
    <div class="bg-white rounded-2xl shadow-xl p-8 max-w-md w-full relative">
      <button onclick="closeModal('telegram')" class="absolute top-3 right-3 text-gray-400 hover:text-gray-700 text-2xl">&times;</button>
      <h2 class="text-xl font-bold mb-2 text-blue-700">{{ _("social.subscribe_telegram") }}</h2>
      <p class="mb-4 text-gray-600">{{ _("social.know_offers") }}</p>
      <form id="form-telegram" class="space-y-4">
        <input type="text" name="full_name" placeholder="{{ _('social.your_name') }}" class="w-full border p-2 rounded" required />
        <input type="text" name="telegram_id" placeholder="{{ _('social.your_telegram') }}" class="w-full border p-2 rounded" required />
        <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded">{{ _("social.subscribe") }}</button>
      </form>
      <div id="success-telegram" class="hidden text-green-600 font-semibold text-center mt-4"></div>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ WhatsApp -->
  <div id="modal-whatsapp" class="fixed inset-0 z-[9999] flex items-center justify-center bg-black bg-opacity-50 hidden">
    <div class="bg-white rounded-2xl shadow-xl p-8 max-w-md w-full relative">
      <button onclick="closeModal('whatsapp')" class="absolute top-3 right-3 text-gray-400 hover:text-gray-700 text-2xl">&times;</button>
      <h2 class="text-xl font-bold mb-2 text-green-700">{{ _("social.subscribe_whatsapp") }}</h2>
      <p class="mb-4 text-gray-600">{{ _("social.know_offers") }}</p>
      <form id="form-whatsapp" class="space-y-4">
        <input type="text" name="full_name" placeholder="{{ _('social.your_name') }}" class="w-full border p-2 rounded" required />
        <input type="text" name="whatsapp_number" placeholder="{{ _('social.your_whatsapp') }}" class="w-full border p-2 rounded" required />
        <button type="submit" class="w-full bg-green-600 hover:bg-green-700 text-white py-2 rounded">{{ _("social.subscribe") }}</button>
      </form>
      <div id="success-whatsapp" class="hidden text-green-600 font-semibold text-center mt-4"></div>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ Instagram -->
  <div id="modal-instagram" class="fixed inset-0 z-[9999] flex items-center justify-center bg-black bg-opacity-50 hidden">
    <div class="bg-white rounded-2xl shadow-xl p-8 max-w-md w-full relative">
      <button onclick="closeModal('instagram')" class="absolute top-3 right-3 text-gray-400 hover:text-gray-700 text-2xl">&times;</button>
      <h2 class="text-xl font-bold mb-2 text-pink-600">{{ _("social.subscribe_instagram") }}</h2>
      <p class="mb-4 text-gray-600">{{ _("social.know_offers") }}</p>
      <form id="form-instagram" class="space-y-4">
        <input type="text" name="full_name" placeholder="{{ _('social.your_name') }}" class="w-full border p-2 rounded" required />
        <input type="text" name="instagram_handle" placeholder="@instagram" class="w-full border p-2 rounded" required />
        <button type="submit" class="w-full bg-pink-600 hover:bg-pink-700 text-white py-2 rounded">{{ _("social.subscribe") }}</button>
      </form>
      <div id="success-instagram" class="hidden text-green-600 font-semibold text-center mt-4"></div>
    </div>
  </div>

  <!-- üì¶ –ö–æ–Ω—Ç–µ–Ω—Ç -->
  <main class="p-0">
    {% block content %}{% endblock %}
    
  </main>

  <!-- üåä –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ—É—Ç–µ—Ä -->
  <footer class="relative bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800 mt-16">
    <!-- –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã -->
    <div class="absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"></div>
    <div class="absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-blue-400/50 to-transparent"></div>
    
    <div class="relative container mx-auto px-4 py-16">
      <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç —Ñ—É—Ç–µ—Ä–∞ -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-12">
        
        <!-- –õ–æ–≥–æ—Ç–∏–ø –∏ –æ–ø–∏—Å–∞–Ω–∏–µ -->
        <div class="lg:col-span-2">
          <div class="flex items-center gap-3 mb-6">
            <div class="w-10 h-10 bg-gradient-to-br from-blue-400 to-purple-500 rounded-xl flex items-center justify-center">
              <span class="text-white font-bold text-xl">S</span>
            </div>
            <h3 class="text-2xl font-bold bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent">
              Sianoro
            </h3>
          </div>
          <p class="text-slate-300 leading-relaxed mb-6 max-w-md">
            {{ _("footer.about") }}
          </p>
          
          <!-- –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏ -->
          <div class="flex gap-4">
            <a href="#" class="group">
              <div class="w-10 h-10 bg-slate-800/50 hover:bg-blue-600 rounded-lg flex items-center justify-center transition-all duration-300 group-hover:scale-110">
                <i class="fab fa-whatsapp text-green-400 group-hover:text-white transition-colors"></i>
              </div>
            </a>
            <a href="#" class="group">
              <div class="w-10 h-10 bg-slate-800/50 hover:bg-blue-600 rounded-lg flex items-center justify-center transition-all duration-300 group-hover:scale-110">
                <i class="fab fa-telegram text-blue-400 group-hover:text-white transition-colors"></i>
              </div>
            </a>
            <a href="#" class="group">
              <div class="w-10 h-10 bg-slate-800/50 hover:bg-blue-600 rounded-lg flex items-center justify-center transition-all duration-300 group-hover:scale-110">
                <i class="fab fa-instagram text-pink-400 group-hover:text-white transition-colors"></i>
              </div>
            </a>
            <a href="#" class="group">
              <div class="w-10 h-10 bg-slate-800/50 hover:bg-blue-600 rounded-lg flex items-center justify-center transition-all duration-300 group-hover:scale-110">
                <i class="fas fa-envelope text-slate-400 group-hover:text-white transition-colors"></i>
              </div>
            </a>
          </div>
        </div>
        
        <!-- –ö–æ–Ω—Ç–∞–∫—Ç—ã -->
        <div>
          <h4 class="text-lg font-semibold text-white mb-6 flex items-center gap-2">
            <i class="fas fa-phone-alt text-blue-400"></i>
            {{ _("footer.contacts") }}
          </h4>
          <div class="space-y-4">
            <div class="group">
              <a href="tel:+66923265978" class="flex items-center gap-3 text-slate-300 hover:text-white transition-colors">
                <div class="w-8 h-8 bg-green-500/20 rounded-lg flex items-center justify-center group-hover:bg-green-500/30 transition-colors">
                  <i class="fas fa-mobile-alt text-green-400 text-sm"></i>
                </div>
                <span class="text-sm">+66 92 326 5978</span>
              </a>
            </div>
            <div class="group">
              <a href="mailto:info@sianoro.com" class="flex items-center gap-3 text-slate-300 hover:text-white transition-colors">
                <div class="w-8 h-8 bg-blue-500/20 rounded-lg flex items-center justify-center group-hover:bg-blue-500/30 transition-colors">
                  <i class="fas fa-envelope text-blue-400 text-sm"></i>
                </div>
                <span class="text-sm">info@sianoro.com</span>
              </a>
            </div>
            <div class="flex items-center gap-3 text-slate-300">
              <div class="w-8 h-8 bg-purple-500/20 rounded-lg flex items-center justify-center">
                <i class="fas fa-map-marker-alt text-purple-400 text-sm"></i>
              </div>
              <span class="text-sm">{{ _("footer.office_address") }}</span>
            </div>
          </div>
        </div>
        
        <!-- –£—Å–ª—É–≥–∏ -->
        <div>
          <h4 class="text-lg font-semibold text-white mb-6 flex items-center gap-2">
            <i class="fas fa-building text-blue-400"></i>
            {{ _("navigation.real_estate") }}
          </h4>
          <div class="space-y-3">
            <a href="/{{ lang }}/properties?deal_type=buy" class="flex items-center gap-2 text-slate-300 hover:text-blue-400 transition-colors text-sm group">
              <i class="fas fa-chevron-right text-xs text-slate-500 group-hover:text-blue-400 transition-colors"></i>
              <span>{{ _("services.property_sales") }}</span>
            </a>
            <a href="/{{ lang }}/rent" class="flex items-center gap-2 text-slate-300 hover:text-blue-400 transition-colors text-sm group">
              <i class="fas fa-chevron-right text-xs text-slate-500 group-hover:text-blue-400 transition-colors"></i>
              <span>{{ _("services.apartment_rental") }}</span>
            </a>
            <a href="/{{ lang }}/projects" class="flex items-center gap-2 text-slate-300 hover:text-blue-400 transition-colors text-sm group">
              <i class="fas fa-chevron-right text-xs text-slate-500 group-hover:text-blue-400 transition-colors"></i>
              <span>{{ _("services.new_build_investments") }}</span>
            </a>
            <a href="#" class="flex items-center gap-2 text-slate-300 hover:text-blue-400 transition-colors text-sm group">
              <i class="fas fa-chevron-right text-xs text-slate-500 group-hover:text-blue-400 transition-colors"></i>
              <span>{{ _("services.legal_support") }}</span>
            </a>
            <a href="#" class="flex items-center gap-2 text-slate-300 hover:text-blue-400 transition-colors text-sm group">
              <i class="fas fa-chevron-right text-xs text-slate-500 group-hover:text-blue-400 transition-colors"></i>
              <span>{{ _("services.property_management") }}</span>
            </a>
          </div>
        </div>
      </div>
      
      <!-- –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å -->
      <div class="h-px bg-gradient-to-r from-transparent via-slate-600 to-transparent my-12"></div>
      
      <!-- –ù–∏–∂–Ω—è—è —á–∞—Å—Ç—å —Ñ—É—Ç–µ—Ä–∞ -->
      <div class="flex flex-col md:flex-row justify-between items-center gap-4">
        <div class="text-sm text-slate-400">
          <span>¬© {{ now().year }} </span>
          <span class="bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent font-semibold">Sianoro</span>
          <span>. {{ _("footer.rights") }}</span>
        </div>
        
        <div class="flex gap-6 text-sm">
          <a href="/{{ lang }}/privacy" class="text-slate-400 hover:text-blue-400 transition-colors">
            {{ _("legal.privacy_policy") }}
          </a>
          <a href="/{{ lang }}/terms" class="text-slate-400 hover:text-blue-400 transition-colors">
            {{ _("legal.terms_of_use") }}
          </a>
        </div>
      </div>
    </div>
    
    <!-- –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤–Ω–∏–∑—É -->
    <div class="absolute bottom-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-blue-400/30 to-transparent"></div>
  </footer>

  <!-- –ò–ò-–ø–æ–¥–±–æ—Ä –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ -->
  <div id="modal-ai-search" class="fixed inset-0 z-[9999] flex items-center justify-center bg-black bg-opacity-50 hidden">
    <div class="bg-white rounded-3xl shadow-2xl p-8 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto">
      <div class="flex justify-between items-center mb-6">
        <h2 class="text-3xl font-bold font-heading text-gray-900">ü§ñ {{ _("ai.modal_title") }}</h2>
        <button onclick="closeAiSearchModal()" class="text-gray-400 hover:text-gray-700 text-3xl font-light">&times;</button>
      </div>
      
      <div class="mb-6">
        <p class="text-lg text-gray-600">{{ _("ai.modal_subtitle") }}</p>
      </div>
      
      <form onsubmit="handleAiSearch(event)" class="space-y-6">
        <!-- –¢–∏–ø –ø–æ–∏—Å–∫–∞ -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <label class="flex items-center p-4 border-2 border-gray-200 rounded-xl cursor-pointer hover:border-blue-300 transition-colors">
            <input type="radio" name="search_type" value="buy" class="mr-3" checked>
            <div>
              <div class="font-semibold text-gray-900">üè† {{ _("ai.buy") }}</div>
              <div class="text-sm text-gray-500">{{ _("ai.buy_desc") }}</div>
            </div>
          </label>
          
          <label class="flex items-center p-4 border-2 border-gray-200 rounded-xl cursor-pointer hover:border-blue-300 transition-colors">
            <input type="radio" name="search_type" value="rent" class="mr-3">
            <div>
              <div class="font-semibold text-gray-900">üèñÔ∏è {{ _("ai.rent") }}</div>
              <div class="text-sm text-gray-500">{{ _("ai.rent_desc") }}</div>
            </div>
          </label>
          
          <label class="flex items-center p-4 border-2 border-gray-200 rounded-xl cursor-pointer hover:border-blue-300 transition-colors">
            <input type="radio" name="search_type" value="new_builds" class="mr-3">
            <div>
              <div class="font-semibold text-gray-900">üèóÔ∏è {{ _("ai.new_builds") }}</div>
              <div class="text-sm text-gray-500">{{ _("ai.new_builds_desc") }}</div>
            </div>
          </label>
        </div>
        
        <!-- –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <label class="block text-sm font-medium mb-2">{{ _("ai.budget") }}</label>
            <div class="flex gap-2">
              <input type="number" name="budget_from" class="w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="{{ _('common.from') }}" min="0">
              <input type="number" name="budget_to" class="w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="{{ _('common.to') }}" min="0">
            </div>
          </div>
          <div>
            <label class="block text-sm font-medium mb-2">{{ _("ai.area") }}</label>
            <div class="flex gap-2">
              <input type="number" name="area_from" class="w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="{{ _('common.from') }}" min="0">
              <input type="number" name="area_to" class="w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="{{ _('common.to') }}" min="0">
            </div>
          </div>
          <div>
            <label class="block text-sm font-medium mb-2">{{ _("ai.district") }}</label>
            <select name="district" class="w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent">
              <option value="">{{ _("ai.any_district") }}</option>
              <option>{{ _("districts.wongamat") }}</option>
              <option>{{ _("districts.central") }}</option>
              <option>–í–æ—Å—Ç–æ—á–Ω–∞—è –ü–∞—Ç—Ç–∞–π—è</option>
              <option>–ù–∞–∫–ª—É–∞</option>
              <option>{{ _("districts.pratumnak") }}</option>
              <option>{{ _("districts.jomtien") }}</option>
              <option>–ù–∞ –î–∂–æ–º—Ç—å–µ–Ω</option>
              <option>–Æ–≥</option>
            </select>
          </div>
          <div>
            <label class="block text-sm font-medium mb-2">{{ _("forms.property_type") }}</label>
            <select name="property_type" class="w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent">
              <option value="">{{ _("common.any_type") }}</option>
              <option>{{ _("common.condo") }}</option>
              <option>{{ _("common.apartments") }}</option>
              <option>{{ _("common.villa") }}</option>
              <option>–¢–∞—É–Ω—Ö–∞—É—Å</option>
            </select>
          </div>
        </div>
        
        <!-- –û–ø–∏—Å–∞–Ω–∏–µ –ø–æ–∂–µ–ª–∞–Ω–∏–π -->
        <div>
          <label class="block text-sm font-medium mb-2">{{ _("ai.describe_preferences") }}</label>
          <textarea name="description" rows="4" 
                    placeholder="{{ _('ai.preferences_placeholder') }}"
                    class="w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent"></textarea>
        </div>
        
        <!-- –ö–Ω–æ–ø–∫–∏ -->
        <div class="flex gap-4 pt-4">
          <button type="button" onclick="closeAiSearchModal()" class="flex-1 bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-3 px-6 rounded-xl transition-colors">
            {{ _("ai.cancel") }}
          </button>
          <button type="submit" class="flex-1 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-semibold py-3 px-6 rounded-xl transition-colors">
            üîç {{ _("ai.find_property") }}
          </button>
        </div>
      </form>
      
      <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ -->
      <div id="ai-search-results" class="mt-8 hidden">
        <h3 class="text-xl font-semibold mb-4">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞:</h3>
        <div id="ai-results-content"></div>
      </div>
    </div>
  </div>

  <!-- JS –¥–ª—è –º–æ–¥–∞–ª–æ–∫ –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ -->
  <script>
    // –í—ã–ø–∞–¥–∞—é—â–µ–µ –º–µ–Ω—é –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
    document.addEventListener('DOMContentLoaded', function() {
      const mainMenuButton = document.getElementById('mainMenuButton');
      const mainMenu = document.getElementById('mainMenu');
      const menuArrow = document.getElementById('menuArrow');
      
      // –ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é
      const mobileMenuButton = document.getElementById('mobileMenuButton');
      if (mobileMenuButton) {
        mobileMenuButton.addEventListener('click', function() {
          // –°–æ–∑–¥–∞–µ–º –∏–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é
          let mobileMenu = document.getElementById('mobile-menu');
          if (!mobileMenu) {
            mobileMenu = createMobileMenu();
          }
          
          // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º –≤–∏–¥–∏–º–æ—Å—Ç—å
          if (mobileMenu.classList.contains('hidden')) {
            mobileMenu.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
          } else {
            mobileMenu.classList.add('hidden');
            document.body.style.overflow = 'auto';
          }
        });
      }
      
      if (mainMenuButton && mainMenu) {
        mainMenuButton.addEventListener('click', function(e) {
          e.stopPropagation();
          const isVisible = mainMenu.classList.contains('show');
          
          if (isVisible) {
            mainMenu.classList.remove('show');
            menuArrow.style.transform = 'rotate(0deg)';
          } else {
            // –°–∫—Ä—ã—Ç—å –≤—Å–µ –¥—Ä—É–≥–∏–µ –æ—Ç–∫—Ä—ã—Ç—ã–µ –º–µ–Ω—é
            document.querySelectorAll('.dropdown-menu').forEach(menu => {
              menu.classList.remove('show');
            });
            mainMenu.classList.add('show');
            menuArrow.style.transform = 'rotate(180deg)';
          }
        });
        
        // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –º–µ–Ω—é
        document.addEventListener('click', function(e) {
          if (!mainMenuButton.contains(e.target) && !mainMenu.contains(e.target)) {
            mainMenu.classList.remove('show');
            menuArrow.style.transform = 'rotate(0deg)';
          }
        });
      }
    });
    
    // –°–æ–∑–¥–∞–Ω–∏–µ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –º–µ–Ω—é
    function createMobileMenu() {
      const mobileMenu = document.createElement('div');
      mobileMenu.id = 'mobile-menu';
      mobileMenu.className = 'fixed inset-0 z-50 lg:hidden bg-black bg-opacity-50';
      
      mobileMenu.innerHTML = `
        <div class="fixed top-0 right-0 h-full w-80 bg-white shadow-xl transform transition-transform">
          <div class="p-6">
            <div class="flex items-center justify-between mb-8">
              <h2 class="text-xl font-bold text-gray-900">–ú–µ–Ω—é</h2>
              <button onclick="closeMobileMenu()" class="text-gray-500 hover:text-gray-700">
                <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                </svg>
              </button>
            </div>
            
            <nav class="space-y-4">
              <div class="space-y-3">
                <h3 class="font-semibold text-gray-900 text-sm uppercase tracking-wider">{{ _("navigation.real_estate") }}</h3>
                <a href="/{{ lang }}/properties?deal_type=buy" class="block py-2 px-4 text-gray-700 hover:bg-blue-50 hover:text-blue-700 rounded-lg transition-colors">
                  üè† {{ _("navigation.buy_property") }}
                </a>
                <a href="/{{ lang }}/properties/rent" class="block py-2 px-4 text-gray-700 hover:bg-blue-50 hover:text-blue-700 rounded-lg transition-colors">
                  üèñÔ∏è {{ _("navigation.rent_property") }}
                </a>
                <a href="/{{ lang }}/projects" class="block py-2 px-4 text-gray-700 hover:bg-blue-50 hover:text-blue-700 rounded-lg transition-colors">
                  üèóÔ∏è {{ _("navigation.new_builds") }}
                </a>
                <button onclick="openAiSearchModal(); closeMobileMenu();" class="w-full text-left py-2 px-4 text-purple-700 hover:bg-purple-50 rounded-lg transition-colors">
                  ü§ñ –ò–ò-–ø–æ–¥–±–æ—Ä
                </button>
              </div>
              
                             <div class="border-t pt-4 space-y-3">
                 <a href="/{{ lang }}/articles" class="block py-2 px-4 text-gray-700 hover:bg-blue-50 hover:text-blue-700 rounded-lg transition-colors">
                   üìö –ü–æ–ª–µ–∑–Ω–æ–µ
                 </a>
               </div>
            </nav>
          </div>
        </div>
      `;
      
      document.body.appendChild(mobileMenu);
      
      // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –º–µ–Ω—é
      mobileMenu.addEventListener('click', function(e) {
        if (e.target === mobileMenu) {
          closeMobileMenu();
        }
      });
      
      return mobileMenu;
    }
    
    // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –º–µ–Ω—é
    function closeMobileMenu() {
      const mobileMenu = document.getElementById('mobile-menu');
      if (mobileMenu) {
        mobileMenu.classList.add('hidden');
        document.body.style.overflow = 'auto';
      }
    }
    
    // –ò–ò-–ø–æ–¥–±–æ—Ä –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
    function openAiSearchModal() {
      document.getElementById('modal-ai-search').classList.remove('hidden');
      document.body.style.overflow = 'hidden';
    }
    
    function closeAiSearchModal() {
      document.getElementById('modal-ai-search').classList.add('hidden');
      document.body.style.overflow = 'auto';
    }
    
    function handleAiSearch(event) {
      event.preventDefault();
      
      const formData = new FormData(event.target);
      const searchType = formData.get('search_type');
      const description = formData.get('description');
      
      // –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã (–∑–∞–≥–ª—É—à–∫–∞)
      const resultsDiv = document.getElementById('ai-search-results');
      const contentDiv = document.getElementById('ai-results-content');
      
      resultsDiv.classList.remove('hidden');
      contentDiv.innerHTML = `
        <div class="bg-blue-50 border border-blue-200 rounded-xl p-4 mb-4">
          <p class="text-blue-800"><strong>ü§ñ –ò–ò –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤–∞—à –∑–∞–ø—Ä–æ—Å:</strong> "${description}"</p>
          <p class="text-blue-600 mt-2">–¢–∏–ø –ø–æ–∏—Å–∫–∞: ${searchType === 'buy' ? '–ü–æ–∫—É–ø–∫–∞' : searchType === 'rent' ? '–ê—Ä–µ–Ω–¥–∞' : '–ù–æ–≤–æ—Å—Ç—Ä–æ–π–∫–∏'}</p>
        </div>
        <div class="text-center py-8">
          <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"></div>
          <p class="text-gray-600">–ò—â–µ–º –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã...</p>
        </div>
      `;
      
             // –ò–º–∏—Ç–∞—Ü–∏—è –ø–æ–∏—Å–∫–∞
       setTimeout(() => {
         let redirectUrl = '/{{ lang }}/properties';
         if (searchType === 'rent') {
           redirectUrl += '/rent';
         } else if (searchType === 'new_builds') {
           redirectUrl = '/{{ lang }}/projects';
         }
        
        // –î–æ–±–∞–≤–ª—è–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∏—Å–∫–∞
        const params = new URLSearchParams();
        if (formData.get('budget_from')) params.append('price_from', formData.get('budget_from'));
        if (formData.get('budget_to')) params.append('price_to', formData.get('budget_to'));
        if (formData.get('district')) params.append('district', formData.get('district'));
        if (formData.get('property_type')) params.append('property_type', formData.get('property_type'));
        
        if (params.toString()) {
          redirectUrl += '?' + params.toString();
        }
        
        window.location.href = redirectUrl;
      }, 2000);
    }
    
    // –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–∫–∏ Telegram
    document.querySelectorAll('a[href="/auth/telegram"]').forEach(btn => {
      btn.addEventListener('click', function(e) {
        e.preventDefault();
        document.getElementById('modal-telegram').classList.remove('hidden');
      });
    });
    
     // –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–∫–∏ WhatsApp
     document.querySelectorAll('a[href="/auth/whatsapp"]').forEach(btn => {
       btn.addEventListener('click', function(e) {
         e.preventDefault();
         document.getElementById('modal-whatsapp').classList.remove('hidden');
       });
     });
     
     // –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–∫–∏ Instagram
     document.getElementById('btn-instagram-modal').addEventListener('click', function(e) {
       e.preventDefault();
       document.getElementById('modal-instagram').classList.remove('hidden');
     });
     
     // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª–æ–∫
     function closeModal(type) {
       document.getElementById('modal-' + type).classList.add('hidden');
       document.body.style.overflow = 'auto';
       // –°–±—Ä–æ—Å —Ñ–æ—Ä–º—ã –∏ —Å–æ–æ–±—â–µ–Ω–∏—è
       document.getElementById('form-' + type).reset();
       document.getElementById('success-' + type).classList.add('hidden');
     }
     
     // AJAX –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º –ø–æ–¥–ø–∏—Å–∫–∏
     document.getElementById('form-telegram').addEventListener('submit', async function(e) {
       e.preventDefault();
       const formData = new FormData(e.target);
       try {
         const response = await fetch('/auth/telegram/callback', {
           method: 'POST',
           body: formData
         });
         if (response.ok) {
           document.getElementById('success-telegram').textContent = '–°–ø–∞—Å–∏–±–æ! –í—ã –ø–æ–¥–ø–∏—Å–∞–Ω—ã –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.';
           document.getElementById('success-telegram').classList.remove('hidden');
           setTimeout(() => closeModal('telegram'), 2000);
         }
       } catch (error) {
         document.getElementById('success-telegram').textContent = '–°–ø–∞—Å–∏–±–æ! –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.';
         document.getElementById('success-telegram').classList.remove('hidden');
         setTimeout(() => closeModal('telegram'), 2000);
       }
     });
     
     document.getElementById('form-whatsapp').addEventListener('submit', async function(e) {
       e.preventDefault();
       const formData = new FormData(e.target);
       try {
         const response = await fetch('/auth/whatsapp/submit', {
           method: 'POST',
           body: formData
         });
         if (response.ok) {
           document.getElementById('success-whatsapp').textContent = '–°–ø–∞—Å–∏–±–æ! –í—ã –ø–æ–¥–ø–∏—Å–∞–Ω—ã –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.';
           document.getElementById('success-whatsapp').classList.remove('hidden');
           setTimeout(() => closeModal('whatsapp'), 2000);
         }
       } catch (error) {
         document.getElementById('success-whatsapp').textContent = '–°–ø–∞—Å–∏–±–æ! –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.';
         document.getElementById('success-whatsapp').classList.remove('hidden');
         setTimeout(() => closeModal('whatsapp'), 2000);
       }
     });
     
     document.getElementById('form-instagram').addEventListener('submit', async function(e) {
       e.preventDefault();
       const formData = new FormData(e.target);
       try {
         const response = await fetch('/auth/instagram/submit', {
           method: 'POST',
           body: formData
         });
         if (response.ok) {
           document.getElementById('success-instagram').textContent = '–°–ø–∞—Å–∏–±–æ! –í–∞—à –ø—Ä–æ—Ñ–∏–ª—å Instagram —Å–æ—Ö—Ä–∞–Ω—ë–Ω.';
           document.getElementById('success-instagram').classList.remove('hidden');
           setTimeout(() => closeModal('instagram'), 2000);
         }
       } catch (error) {
         document.getElementById('success-instagram').textContent = '–°–ø–∞—Å–∏–±–æ! –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.';
         document.getElementById('success-instagram').classList.remove('hidden');
         setTimeout(() => closeModal('instagram'), 2000);
       }
     });
     
     // üåç –§—É–Ω–∫—Ü–∏—è —Å–º–µ–Ω—ã —è–∑—ã–∫–∞
     function setLanguage(langCode) {
       // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –ø–µ—Ä–µ—Ö–æ–¥ –ø–æ —Å—Å—ã–ª–∫–µ
       event.preventDefault();
       
       // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–º–µ–Ω—É —è–∑—ã–∫–∞
       fetch(`/lang/${langCode}`, {
         method: 'GET',
         credentials: 'include'
       }).then(() => {
         // –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–∏–π –ø—É—Ç—å –±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞ —è–∑—ã–∫–∞
         let currentPath = window.location.pathname;
         const pathParts = currentPath.split('/');
         
         // –£–±–∏—Ä–∞–µ–º —Ç–µ–∫—É—â–∏–π —è–∑—ã–∫ –∏–∑ –ø—É—Ç–∏ (–ø–µ—Ä–≤–∞—è —á–∞—Å—Ç—å –ø–æ—Å–ª–µ /)
         if (pathParts[1] && ['ru', 'en', 'th', 'zh'].includes(pathParts[1])) {
           pathParts[1] = langCode; // –ó–∞–º–µ–Ω—è–µ–º –Ω–∞ –Ω–æ–≤—ã–π —è–∑—ã–∫
         } else {
           pathParts.splice(1, 0, langCode); // –î–æ–±–∞–≤–ª—è–µ–º —è–∑—ã–∫ –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç
         }
         
         // –§–æ—Ä–º–∏—Ä—É–µ–º –Ω–æ–≤—ã–π URL
         const newPath = pathParts.join('/');
         const search = window.location.search; // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞
         
         // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ –Ω–æ–≤—ã–π URL
         window.location.href = newPath + search;
       }).catch(() => {
         // –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –Ω–µ —É–¥–∞–ª—Å—è, –ø—Ä–æ—Å—Ç–æ –º–µ–Ω—è–µ–º URL
         let currentPath = window.location.pathname;
         const pathParts = currentPath.split('/');
         
         if (pathParts[1] && ['ru', 'en', 'th', 'zh'].includes(pathParts[1])) {
           pathParts[1] = langCode;
         } else {
           pathParts.splice(1, 0, langCode);
         }
         
         window.location.href = pathParts.join('/') + window.location.search;
       });
     }

    // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–µ—Ä–µ–≤–æ–¥—ã –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —è–∑—ã–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    document.addEventListener('DOMContentLoaded', async function() {
        const currentLang = document.documentElement.lang;
        await loadTranslations(currentLang);
        
        // –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∂–∞–µ–º –ø–µ—Ä–µ–≤–æ–¥—ã –¥–ª—è –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–æ–≤
        ['en', 'ru', 'th', 'zh'].forEach(lang => {
            if (lang !== currentLang) {
                loadTranslations(lang);
            }
        });
    });
  </script>

  <!-- –°–∫—Ä–∏–ø—Ç—ã -->
  <script src="{{ url_for('static', path='js/bootstrap.bundle.min.js') }}"></script>
  <script src="{{ url_for('static', path='js/jquery.min.js') }}"></script>
  {% block extra_js %}{% endblock %}
</body>
</html>
