<!-- –û—Ü–µ–Ω–∫–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –≤ —Å—Ç–∏–ª–µ Zillow -->
<div id="property-valuation" class="fixed inset-0 z-[9999] flex items-center justify-center bg-black bg-opacity-50 hidden">
  <div class="bg-white rounded-3xl shadow-2xl p-8 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto">
    <div class="flex justify-between items-center mb-6">
      <h2 class="text-3xl font-bold text-gray-900">–û—Ü–µ–Ω–∫–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏</h2>
      <button onclick="closePropertyValuation()" class="text-gray-400 hover:text-gray-700 text-3xl font-light">&times;</button>
    </div>
    
    <form id="valuation-form" class="space-y-6">
      <!-- –ê–¥—Ä–µ—Å -->
      <div>
        <label class="block text-sm font-medium mb-2 text-gray-700">–ê–¥—Ä–µ—Å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏</label>
        <input type="text" id="property-address" name="property_address" 
               class="w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent" 
               placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–æ–ª–Ω—ã–π –∞–¥—Ä–µ—Å" required>
      </div>
      
      <!-- –†–∞–π–æ–Ω -->
      <div>
        <label class="block text-sm font-medium mb-2 text-gray-700">–†–∞–π–æ–Ω</label>
        <select id="property-district" name="property_district" 
                class="w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent">
          <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–π–æ–Ω</option>
          <option value="wongamat">–í–æ–Ω–≥–∞–º–∞—Ç</option>
          <option value="central">–¶–µ–Ω—Ç—Ä –ü–∞—Ç—Ç–∞–π–∏</option>
          <option value="jomtien">–î–∂–æ–º—Ç—å–µ–Ω</option>
          <option value="pratumnak">–ü—Ä–∞—Ç—É–º–Ω–∞–∫</option>
          <option value="naklua">–ù–∞–∫–ª—É–∞</option>
          <option value="east-pattaya">–í–æ—Å—Ç–æ—á–Ω–∞—è –ü–∞—Ç—Ç–∞–π—è</option>
        </select>
      </div>
      
      <!-- –¢–∏–ø –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ -->
      <div>
        <label class="block text-sm font-medium mb-2 text-gray-700">–¢–∏–ø –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏</label>
        <select id="property-type" name="property_type" 
                class="w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent">
          <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø</option>
          <option value="apartment">–ö–≤–∞—Ä—Ç–∏—Ä–∞</option>
          <option value="condo">–ö–æ–Ω–¥–æ</option>
          <option value="villa">–í–∏–ª–ª–∞</option>
          <option value="house">–î–æ–º</option>
          <option value="townhouse">–¢–∞—É–Ω—Ö–∞—É—Å</option>
        </select>
      </div>
      
      <!-- –ü–ª–æ—â–∞–¥—å -->
      <div>
        <label class="block text-sm font-medium mb-2 text-gray-700">–ü–ª–æ—â–∞–¥—å (–º¬≤)</label>
        <input type="number" id="property-area" name="property_area" 
               class="w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent" 
               placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–ª–æ—â–∞–¥—å" required>
      </div>
      
      <!-- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ø–∞–ª–µ–Ω -->
      <div>
        <label class="block text-sm font-medium mb-2 text-gray-700">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ø–∞–ª–µ–Ω</label>
        <select id="property-bedrooms" name="property_bedrooms" 
                class="w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent">
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5+</option>
        </select>
      </div>
      
      <!-- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∞–Ω–Ω—ã—Ö -->
      <div>
        <label class="block text-sm font-medium mb-2 text-gray-700">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∞–Ω–Ω—ã—Ö</label>
        <select id="property-bathrooms" name="property_bathrooms" 
                class="w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent">
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4+</option>
        </select>
      </div>
      
      <!-- –ì–æ–¥ –ø–æ—Å—Ç—Ä–æ–π–∫–∏ -->
      <div>
        <label class="block text-sm font-medium mb-2 text-gray-700">–ì–æ–¥ –ø–æ—Å—Ç—Ä–æ–π–∫–∏</label>
        <input type="number" id="property-year" name="property_year" min="1980" max="2025"
               class="w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent" 
               placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 2020" required>
      </div>
      
      <!-- –°–æ—Å—Ç–æ—è–Ω–∏–µ -->
      <div>
        <label class="block text-sm font-medium mb-2 text-gray-700">–°–æ—Å—Ç–æ—è–Ω–∏–µ</label>
        <select id="property-condition" name="property_condition" 
                class="w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent">
          <option value="excellent">–û—Ç–ª–∏—á–Ω–æ–µ</option>
          <option value="good">–•–æ—Ä–æ—à–µ–µ</option>
          <option value="average">–°—Ä–µ–¥–Ω–µ–µ</option>
          <option value="needs_renovation">–¢—Ä–µ–±—É–µ—Ç —Ä–µ–º–æ–Ω—Ç–∞</option>
        </select>
      </div>
      
      <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ -->
      <div>
        <label class="block text-sm font-medium mb-2 text-gray-700">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏</label>
        <div class="grid grid-cols-2 gap-3">
          <label class="flex items-center">
            <input type="checkbox" name="features" value="pool" class="mr-2">
            <span class="text-sm">–ë–∞—Å—Å–µ–π–Ω</span>
          </label>
          <label class="flex items-center">
            <input type="checkbox" name="features" value="gym" class="mr-2">
            <span class="text-sm">–°–ø–æ—Ä—Ç–∑–∞–ª</span>
          </label>
          <label class="flex items-center">
            <input type="checkbox" name="features" value="parking" class="mr-2">
            <span class="text-sm">–ü–∞—Ä–∫–æ–≤–∫–∞</span>
          </label>
          <label class="flex items-center">
            <input type="checkbox" name="features" value="security" class="mr-2">
            <span class="text-sm">–û—Ö—Ä–∞–Ω–∞</span>
          </label>
          <label class="flex items-center">
            <input type="checkbox" name="features" value="sea_view" class="mr-2">
            <span class="text-sm">–í–∏–¥ –Ω–∞ –º–æ—Ä–µ</span>
          </label>
          <label class="flex items-center">
            <input type="checkbox" name="features" value="balcony" class="mr-2">
            <span class="text-sm">–ë–∞–ª–∫–æ–Ω</span>
          </label>
        </div>
      </div>
      
      <!-- –ö–Ω–æ–ø–∫–∞ –æ—Ü–µ–Ω–∫–∏ -->
      <button type="submit" 
              class="w-full bg-green-600 hover:bg-green-700 text-white py-3 px-6 rounded-xl font-semibold transition duration-200">
        –û—Ü–µ–Ω–∏—Ç—å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å
      </button>
    </form>
    
    <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ü–µ–Ω–∫–∏ -->
    <div id="valuation-results" class="mt-8 hidden">
      <h3 class="text-xl font-bold mb-4 text-gray-900">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ü–µ–Ω–∫–∏</h3>
      
      <!-- –û—Å–Ω–æ–≤–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ -->
      <div class="bg-gradient-to-r from-green-50 to-blue-50 rounded-xl p-6 mb-6">
        <div class="text-center">
          <div class="text-sm text-gray-600 mb-2">–û—Ü–µ–Ω–∫–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏</div>
          <div class="text-4xl font-bold text-gray-900" id="estimated-price">‡∏ø0</div>
          <div class="text-sm text-gray-500 mt-2">–î–∏–∞–ø–∞–∑–æ–Ω: <span id="price-range">‡∏ø0 - ‡∏ø0</span></div>
        </div>
      </div>
      
      <!-- –î–µ—Ç–∞–ª–∏ –æ—Ü–µ–Ω–∫–∏ -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
        <div class="bg-blue-50 rounded-xl p-4">
          <div class="text-sm text-blue-600 font-medium">–¶–µ–Ω–∞ –∑–∞ –º¬≤</div>
          <div class="text-xl font-bold text-blue-900" id="price-per-sqm">‡∏ø0</div>
        </div>
        
        <div class="bg-purple-50 rounded-xl p-4">
          <div class="text-sm text-purple-600 font-medium">–†—ã–Ω–æ—á–Ω–∞—è —Ç–µ–Ω–¥–µ–Ω—Ü–∏—è</div>
          <div class="text-xl font-bold text-purple-900" id="market-trend">+0%</div>
        </div>
        
        <div class="bg-orange-50 rounded-xl p-4">
          <div class="text-sm text-orange-600 font-medium">–õ–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å</div>
          <div class="text-xl font-bold text-orange-900" id="liquidity">–°—Ä–µ–¥–Ω—è—è</div>
        </div>
        
        <div class="bg-green-50 rounded-xl p-4">
          <div class="text-sm text-green-600 font-medium">–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª</div>
          <div class="text-xl font-bold text-green-900" id="investment-potential">–•–æ—Ä–æ—à–∏–π</div>
        </div>
      </div>
      
      <!-- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —Ä—ã–Ω–∫–æ–º -->
      <div class="bg-gray-50 rounded-xl p-4 mb-6">
        <h4 class="text-lg font-semibold mb-3 text-gray-900">–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —Ä—ã–Ω–∫–æ–º</h4>
        <div class="space-y-3">
          <div class="flex justify-between items-center">
            <span class="text-sm text-gray-600">–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞ –≤ —Ä–∞–π–æ–Ω–µ:</span>
            <span class="font-semibold" id="avg-district-price">‡∏ø0</span>
          </div>
          <div class="flex justify-between items-center">
            <span class="text-sm text-gray-600">–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞ –∑–∞ –º¬≤:</span>
            <span class="font-semibold" id="avg-price-per-sqm">‡∏ø0</span>
          </div>
          <div class="flex justify-between items-center">
            <span class="text-sm text-gray-600">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π:</span>
            <span class="font-semibold" id="market-listings">0</span>
          </div>
        </div>
      </div>
      
      <!-- –§–∞–∫—Ç–æ—Ä—ã –≤–ª–∏—è–Ω–∏—è -->
      <div class="bg-yellow-50 rounded-xl p-4">
        <h4 class="text-lg font-semibold mb-3 text-yellow-800">–§–∞–∫—Ç–æ—Ä—ã –≤–ª–∏—è–Ω–∏—è –Ω–∞ —Ü–µ–Ω—É</h4>
        <div class="space-y-2 text-sm text-yellow-700">
          <div id="positive-factors">
            <div class="font-medium text-green-700 mb-2">‚úÖ –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã:</div>
            <ul class="list-disc list-inside space-y-1" id="positive-list">
              <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </ul>
          </div>
          <div id="negative-factors" class="mt-3">
            <div class="font-medium text-red-700 mb-2">‚ùå –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã:</div>
            <ul class="list-disc list-inside space-y-1" id="negative-list">
              <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </ul>
          </div>
        </div>
      </div>
      
      <!-- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ -->
      <div class="mt-6 bg-blue-50 rounded-xl p-4">
        <h4 class="text-lg font-semibold mb-2 text-blue-800">üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</h4>
        <ul class="text-sm text-blue-700 space-y-1" id="recommendations">
          <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
        </ul>
      </div>
    </div>
  </div>
</div>

<script>
// –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –æ—Ü–µ–Ω–∫–æ–π –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏
function openPropertyValuation() {
  document.getElementById('property-valuation').classList.remove('hidden');
  document.body.style.overflow = 'hidden';
}

function closePropertyValuation() {
  document.getElementById('property-valuation').classList.add('hidden');
  document.body.style.overflow = 'auto';
}

// –†–∞—Å—á–µ—Ç –æ—Ü–µ–Ω–∫–∏ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏
function calculateValuation() {
  const address = document.getElementById('property-address').value;
  const district = document.getElementById('property-district').value;
  const propertyType = document.getElementById('property-type').value;
  const area = parseFloat(document.getElementById('property-area').value) || 0;
  const bedrooms = parseInt(document.getElementById('property-bedrooms').value) || 1;
  const bathrooms = parseInt(document.getElementById('property-bathrooms').value) || 1;
  const year = parseInt(document.getElementById('property-year').value) || 2020;
  const condition = document.getElementById('property-condition').value;
  
  if (!address || !district || !propertyType || area <= 0) {
    alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è');
    return;
  }
  
  // –ë–∞–∑–æ–≤—ã–µ —Ü–µ–Ω—ã –∑–∞ –º¬≤ –ø–æ —Ä–∞–π–æ–Ω–∞–º (–≤ –±–∞—Ç–∞—Ö)
  const basePrices = {
    'wongamat': 120000,
    'central': 80000,
    'jomtien': 90000,
    'pratumnak': 110000,
    'naklua': 70000,
    'east-pattaya': 60000
  };
  
  // –ú–Ω–æ–∂–∏—Ç–µ–ª–∏ –ø–æ —Ç–∏–ø–∞–º –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏
  const typeMultipliers = {
    'apartment': 1.0,
    'condo': 1.1,
    'villa': 1.5,
    'house': 1.3,
    'townhouse': 1.2
  };
  
  // –ú–Ω–æ–∂–∏—Ç–µ–ª–∏ –ø–æ —Å–æ—Å—Ç–æ—è–Ω–∏—é
  const conditionMultipliers = {
    'excellent': 1.2,
    'good': 1.0,
    'average': 0.9,
    'needs_renovation': 0.7
  };
  
  // –ú–Ω–æ–∂–∏—Ç–µ–ª–∏ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Å–ø–∞–ª–µ–Ω
  const bedroomMultipliers = {
    1: 0.9,
    2: 1.0,
    3: 1.1,
    4: 1.2,
    5: 1.3
  };
  
  // –ú–Ω–æ–∂–∏—Ç–µ–ª–∏ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –≤–∞–Ω–Ω—ã—Ö
  const bathroomMultipliers = {
    1: 0.95,
    2: 1.0,
    3: 1.05,
    4: 1.1
  };
  
  // –ú–Ω–æ–∂–∏—Ç–µ–ª—å –ø–æ –≥–æ–¥—É –ø–æ—Å—Ç—Ä–æ–π–∫–∏
  const currentYear = new Date().getFullYear();
  const ageMultiplier = Math.max(0.7, 1 - (currentYear - year) * 0.01);
  
  // –ë–∞–∑–æ–≤—ã–π —Ä–∞—Å—á–µ—Ç
  const basePrice = basePrices[district] || 80000;
  const typeMultiplier = typeMultipliers[propertyType] || 1.0;
  const conditionMultiplier = conditionMultipliers[condition] || 1.0;
  const bedroomMultiplier = bedroomMultipliers[bedrooms] || 1.0;
  const bathroomMultiplier = bathroomMultipliers[bathrooms] || 1.0;
  
  // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
  const features = Array.from(document.querySelectorAll('input[name="features"]:checked')).map(cb => cb.value);
  let featuresMultiplier = 1.0;
  
  features.forEach(feature => {
    switch(feature) {
      case 'pool': featuresMultiplier += 0.05; break;
      case 'gym': featuresMultiplier += 0.03; break;
      case 'parking': featuresMultiplier += 0.02; break;
      case 'security': featuresMultiplier += 0.02; break;
      case 'sea_view': featuresMultiplier += 0.1; break;
      case 'balcony': featuresMultiplier += 0.02; break;
    }
  });
  
  // –ò—Ç–æ–≥–æ–≤—ã–π —Ä–∞—Å—á–µ—Ç
  const pricePerSqm = basePrice * typeMultiplier * conditionMultiplier * bedroomMultiplier * bathroomMultiplier * ageMultiplier * featuresMultiplier;
  const estimatedPrice = Math.round(pricePerSqm * area);
  const priceRange = {
    min: Math.round(estimatedPrice * 0.9),
    max: Math.round(estimatedPrice * 1.1)
  };
  
  // –û–±–Ω–æ–≤–ª—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
  document.getElementById('estimated-price').textContent = '‡∏ø' + estimatedPrice.toLocaleString();
  document.getElementById('price-range').textContent = '‡∏ø' + priceRange.min.toLocaleString() + ' - ‡∏ø' + priceRange.max.toLocaleString();
  document.getElementById('price-per-sqm').textContent = '‡∏ø' + Math.round(pricePerSqm).toLocaleString();
  
  // –†—ã–Ω–æ—á–Ω–∞—è —Ç–µ–Ω–¥–µ–Ω—Ü–∏—è
  const marketTrend = Math.random() * 10 - 5; // -5% –¥–æ +5%
  document.getElementById('market-trend').textContent = (marketTrend > 0 ? '+' : '') + marketTrend.toFixed(1) + '%';
  document.getElementById('market-trend').className = 'text-xl font-bold ' + (marketTrend > 0 ? 'text-green-900' : 'text-red-900');
  
  // –õ–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å
  const liquidityOptions = ['–í—ã—Å–æ–∫–∞—è', '–°—Ä–µ–¥–Ω—è—è', '–ù–∏–∑–∫–∞—è'];
  const liquidity = liquidityOptions[Math.floor(Math.random() * 3)];
  document.getElementById('liquidity').textContent = liquidity;
  
  // –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª
  const potentialOptions = ['–û—Ç–ª–∏—á–Ω—ã–π', '–•–æ—Ä–æ—à–∏–π', '–°—Ä–µ–¥–Ω–∏–π', '–ù–∏–∑–∫–∏–π'];
  const potential = potentialOptions[Math.floor(Math.random() * 4)];
  document.getElementById('investment-potential').textContent = potential;
  
  // –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —Ä—ã–Ω–∫–æ–º
  const avgDistrictPrice = Math.round(basePrice * area * 0.95);
  const avgPricePerSqm = Math.round(basePrice * 0.98);
  const marketListings = Math.floor(Math.random() * 50) + 10;
  
  document.getElementById('avg-district-price').textContent = '‡∏ø' + avgDistrictPrice.toLocaleString();
  document.getElementById('avg-price-per-sqm').textContent = '‡∏ø' + avgPricePerSqm.toLocaleString();
  document.getElementById('market-listings').textContent = marketListings;
  
  // –§–∞–∫—Ç–æ—Ä—ã –≤–ª–∏—è–Ω–∏—è
  updateFactors(pricePerSqm, basePrice, features, condition, year, bedrooms, bathrooms);
  
  // –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
  updateRecommendations(estimatedPrice, priceRange, marketTrend, liquidity, potential);
  
  // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
  document.getElementById('valuation-results').classList.remove('hidden');
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–∞–∫—Ç–æ—Ä–æ–≤ –≤–ª–∏—è–Ω–∏—è
function updateFactors(pricePerSqm, basePrice, features, condition, year, bedrooms, bathrooms) {
  const positiveList = document.getElementById('positive-list');
  const negativeList = document.getElementById('negative-list');
  
  positiveList.innerHTML = '';
  negativeList.innerHTML = '';
  
  // –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã
  if (pricePerSqm > basePrice * 1.1) {
    positiveList.innerHTML += '<li>–í—ã—Å–æ–∫–∞—è —Ü–µ–Ω–∞ –∑–∞ –º¬≤ –≤ —Ä–∞–π–æ–Ω–µ</li>';
  }
  
  features.forEach(feature => {
    switch(feature) {
      case 'sea_view': positiveList.innerHTML += '<li>–í–∏–¥ –Ω–∞ –º–æ—Ä–µ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø–æ–≤—ã—à–∞–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç—å</li>'; break;
      case 'pool': positiveList.innerHTML += '<li>–ù–∞–ª–∏—á–∏–µ –±–∞—Å—Å–µ–π–Ω–∞</li>'; break;
      case 'gym': positiveList.innerHTML += '<li>–°–ø–æ—Ä—Ç–∑–∞–ª –≤ –∫–æ–º–ø–ª–µ–∫—Å–µ</li>'; break;
    }
  });
  
  if (condition === 'excellent') {
    positiveList.innerHTML += '<li>–û—Ç–ª–∏—á–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏</li>';
  }
  
  if (year >= 2020) {
    positiveList.innerHTML += '<li>–ù–æ–≤–æ—Å—Ç—Ä–æ–π–∫–∞</li>';
  }
  
  if (bedrooms >= 3) {
    positiveList.innerHTML += '<li>–ë–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ø–∞–ª–µ–Ω</li>';
  }
  
  // –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã
  if (pricePerSqm < basePrice * 0.9) {
    negativeList.innerHTML += '<li>–ù–∏–∑–∫–∞—è —Ü–µ–Ω–∞ –∑–∞ –º¬≤ –≤ —Ä–∞–π–æ–Ω–µ</li>';
  }
  
  if (condition === 'needs_renovation') {
    negativeList.innerHTML += '<li>–¢—Ä–µ–±—É–µ—Ç –∫–∞–ø–∏—Ç–∞–ª—å–Ω–æ–≥–æ —Ä–µ–º–æ–Ω—Ç–∞</li>';
  }
  
  if (year < 2000) {
    negativeList.innerHTML += '<li>–°—Ç–∞—Ä–∞—è –ø–æ—Å—Ç—Ä–æ–π–∫–∞</li>';
  }
  
  if (bathrooms < bedrooms) {
    negativeList.innerHTML += '<li>–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤–∞–Ω–Ω—ã—Ö –∫–æ–º–Ω–∞—Ç</li>';
  }
  
  if (features.length === 0) {
    negativeList.innerHTML += '<li>–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —É–¥–æ–±—Å—Ç–≤</li>';
  }
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
function updateRecommendations(estimatedPrice, priceRange, marketTrend, liquidity, potential) {
  const recommendations = document.getElementById('recommendations');
  recommendations.innerHTML = '';
  
  if (marketTrend > 0) {
    recommendations.innerHTML += '<li>–†—ã–Ω–æ–∫ —Ä–∞—Å—Ç–µ—Ç - —Ö–æ—Ä–æ—à–µ–µ –≤—Ä–µ–º—è –¥–ª—è –ø–æ–∫—É–ø–∫–∏</li>';
  } else {
    recommendations.innerHTML += '<li>–†—ã–Ω–æ–∫ –ø–∞–¥–∞–µ—Ç - –º–æ–∂–Ω–æ —Ç–æ—Ä–≥–æ–≤–∞—Ç—å—Å—è</li>';
  }
  
  if (liquidity === '–í—ã—Å–æ–∫–∞—è') {
    recommendations.innerHTML += '<li>–í—ã—Å–æ–∫–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å - –ª–µ–≥–∫–æ –ø—Ä–æ–¥–∞—Ç—å</li>';
  } else if (liquidity === '–ù–∏–∑–∫–∞—è') {
    recommendations.innerHTML += '<li>–ù–∏–∑–∫–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å - —Å–ª–æ–∂–Ω–æ –ø—Ä–æ–¥–∞—Ç—å</li>';
  }
  
  if (potential === '–û—Ç–ª–∏—á–Ω—ã–π' || potential === '–•–æ—Ä–æ—à–∏–π') {
    recommendations.innerHTML += '<li>–•–æ—Ä–æ—à–∏–π –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª</li>';
  }
  
  recommendations.innerHTML += '<li>–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Å—Ç–∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—É—é –æ—Ü–µ–Ω–∫—É</li>';
  recommendations.innerHTML += '<li>–°—Ä–∞–≤–Ω–∏—Ç–µ —Å –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–º–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º–∏ –≤ —Ä–∞–π–æ–Ω–µ</li>';
}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ñ–æ—Ä–º—ã
document.addEventListener('DOMContentLoaded', function() {
  const form = document.getElementById('valuation-form');
  if (form) {
    form.addEventListener('submit', function(e) {
      e.preventDefault();
      calculateValuation();
    });
  }
});

// –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
document.getElementById('property-valuation').addEventListener('click', function(e) {
  if (e.target === this) {
    closePropertyValuation();
  }
});
</script> 